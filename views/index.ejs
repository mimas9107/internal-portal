<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Internal Portal</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1>Internal Portal</h1>
    <table>
        <thead>
            <tr>
                <th>服務</th>
                <th>狀態</th>
                <th>管理</th>
            </tr>
        </thead>
        <tbody>
        <% services.forEach(function(s) { %>
            <tr>
                <td><%= s.name %></td>
                <td>
                    <% if (s.online) { %>
                        <span class="status-online">🟢 Online</span>
                    <% } else { %>
                        <span class="status-offline">🔴 Offline</span>
                    <% } %>
                </td>
                <td>
                    <% if (s.online && s.url.startsWith('/check/')) { %>
                        <a href="<%= s.url %>" class="button button-online">測試</a>
                    <% } else if (s.online && s.url !== '-') { %>
                        <a href="<%= s.url %>" target="_blank" class="button button-online">前往</a>
                    <% } else if (s.url === '-') { %>
                        <span style="color:gray">無管理頁面</span>
                    <% } else { %>
                        <button class="button button-offline" disabled>無法連線</button>
                    <% } %>
                </td>
            </tr>
        <% }); %>
        </tbody>
    </table>
</body>
</html>

